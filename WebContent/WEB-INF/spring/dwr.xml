<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:aop="http://www.springframework.org/schema/aop"
  xmlns:dwr="http://www.directwebremoting.org/schema/spring-dwr"
  
  xsi:schemaLocation="
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
    http://www.directwebremoting.org/schema/spring-dwr http://www.directwebremoting.org/schema/spring-dwr-3.0.xsd">

  <dwr:controller id="dwrController" debug="true">
   
    <dwr:config-param name="scriptCompressed" value="true"/>
    <dwr:config-param name="activeReverseAjaxEnabled" value="true"/>
    <dwr:config-param name="org.directwebremoting.extend.ServerLoadMonitor" value="org.directwebremoting.impl.PollingServerLoadMonitor"/>
    <dwr:config-param name="disconnectedTime" value="10000"/>
    <dwr:config-param name="allowScriptTagRemoting" value="false"/>
  </dwr:controller>
  
  <bean id="dwrUrlMapping" name="dwrUrlMapping"
    class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
    <property name="alwaysUseFullPath" value="true"/>
      <property name="mappings">
        <props>
        <prop key="/dwr/">dwrController</prop>
        <prop key="/dwr/**/*">dwrController</prop>
      </props>
    </property>
  </bean>
  
  
  <dwr:configuration>
    <dwr:convert type="exception" class="java.lang.Exception">
      <dwr:include method="message"/>
    </dwr:convert>
    <dwr:convert type="bean" class="java.lang.StackTraceElement"/>
    
 
    <!-- Framework Presentation -->
    <dwr:convert type="bean" class="fr.rs2i.swFramework.services.workflow.staffware.model.*" />
    <dwr:convert type="bean" class="fr.rs2i.swFramework.services.workflow.api.model.*"       />
    <dwr:convert type="bean" class="fr.rs2i.swFramework.presentation.model.**"               />
    <!-- Framework Presentation -->
    
  </dwr:configuration>
  
    <!-- bean dwr -->
    <bean id="monitorOutputDispositif"     class="fr.croixrouge.irp.services.dwr.monitor.MonitorOutputDispositf"                autowire="constructor">
      <dwr:remote javascript="MonitorOutputDispositif"/>
    </bean>
    <bean id="monitor"                     class="fr.croixrouge.irp.services.dwr.monitor.MonitorImpl"                           autowire="constructor" >
      <dwr:remote javascript="Monitor"/>
    </bean>
    
    <bean id="monitorOutputIntervention"   class="fr.croixrouge.irp.services.dwr.monitor.MonitorOutputIntervention"             autowire="constructor" >
      <dwr:remote javascript="monitorOutputIntervention"/>
    </bean>

    <bean id="monitorInput"                class="fr.croixrouge.irp.services.dwr.monitorInput.MonitorInputImpl"                 autowire="constructor" >
      <dwr:remote javascript="monitorInput"/>
    </bean>
    <bean id="monitorInputDispositif"      class="fr.croixrouge.irp.services.dwr.monitorInput.MonitorInputDispositifImpl"       autowire="constructor" >
      <dwr:remote javascript="monitorInputDispositif"/>
    </bean>
    <bean id="monitorInputIntervention"    class="fr.croixrouge.irp.services.dwr.monitorInput.MonitorInputInterventionImpl"     autowire="constructor" >
      <dwr:remote javascript="monitorInputIntervention"/>
    </bean>
    <bean id="monitorInputBilan"           class="fr.croixrouge.irp.services.dwr.monitorInput.MonitorInputBilanImpl"            autowire="constructor" >
      <dwr:remote javascript="monitorInputBilan"/>
    </bean>                                
    
    <bean id="monitorCommons"              class="fr.croixrouge.irp.services.dwr.monitorCommons.MonitorCommonsImpl"             autowire="constructor" >
      <dwr:remote javascript="monitorCommons"/>
    </bean>
    
    <bean id="homepage"                    class="fr.croixrouge.irp.services.dwr.homepage.Homepage"                             autowire="constructor" >
      <dwr:remote javascript="Homepage"/>
    </bean>
    
 </beans>