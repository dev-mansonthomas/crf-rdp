<?xml version="1.0" encoding="UTF-8"?>

<beans          xmlns    = "http://www.springframework.org/schema/beans"
                xmlns:xsi= "http://www.w3.org/2001/XMLSchema-instance"
        
       xsi:schemaLocation= "http://www.springframework.org/schema/beans
                            http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">


    <!-- Services classique -->
    <bean id="regulationService"           class="fr.croixrouge.rdp.services.regulation.RegulationImpl"                          autowire="constructor" />
    <bean id="userService"                 class="fr.croixrouge.rdp.services.user.UserServiceImpl"                               autowire="constructor" />
    
    <bean id="UtilitiesService"            class="fr.croixrouge.rdp.services.utilities.UtilitiesServiceImpl"                     autowire="constructor" /> 
    
    
    
    <bean id="dispositifService"           class="fr.croixrouge.rdp.services.dispositif.DispositifImpl"                          autowire="constructor">
      <property name="equipierService"     ref="equipierService"    /><!-- Injection faite par setter pour résoudre une dépendence cyclique entre les services dispositif et equipier -->
      <property name="interventionService" ref="interventionService"/><!-- Injection faite par setter pour résoudre une dépendence cyclique entre les services dispositif et intervention -->
    </bean>
    
    <bean id="equipierService"             class="fr.croixrouge.rdp.services.equipier.EquipierServiceImpl"                       autowire="constructor" />
    <bean id="listService"                 class="fr.croixrouge.rdp.services.list.ListServiceImpl"                               autowire="constructor" />
    
    <bean id="interventionService"         class="fr.croixrouge.rdp.services.intervention.InterventionServiceImpl"               autowire="constructor" />
    <bean id="lieuService"                 class="fr.croixrouge.rdp.services.lieu.LieuServiceImpl"                               autowire="constructor" >
      <constructor-arg index="1">
        <bean class="fr.croixrouge.rdp.services.cache.EHCacheService" autowire="constructor">
          <constructor-arg index="0" ref="UtilCacheHashesFB"/>
        </bean>
      </constructor-arg>
    </bean>
    
    <bean id="creditsAndChangeLogService"  class="fr.croixrouge.rdp.services.creditsAndChangeLog.CreditsAndChangeLogServiceImpl" autowire="constructor" />
    

    <!-- Delegate -->
    <bean id="dispositifInterventionDelegate"                  class="fr.croixrouge.rdp.services.delegate.DispositifInterventionDelegate.DispositifInterventionDelegateImpl"                         autowire="constructor" />
</beans>